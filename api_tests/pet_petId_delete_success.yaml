# Test generated by RoostGPT for test roostPostmanTest using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=fbd3e66b3b

config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {} 
  environments:
    development:
      target: "{{ $processEnvironment.API_HOST }}"
  payload:
    path: "../payloads/pet_petId_delete_success.csv"
    fields:
      - "petId"
    skipHeader: true
  headers:
    Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"

scenarios:
  - name: "Pet test scenarios"
    flow:
      - post:
          url: "/pet/{{ petId }}"
          beforeRequest:
            - "log": 'Start API request to delete a pet'
          headers:
            api_key: "{{ api_key }}"
          expect:
            - statusCode: 200  # Expecting the status code to be exactly 200
            - hasProperty: 'message'  # The response body should contain a message property
            - hasHeader: 'content-type'  # The API response should contain a header 'content-type'
          afterResponse:
            - "think": 1
