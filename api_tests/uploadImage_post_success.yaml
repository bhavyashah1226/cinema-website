# Test generated by RoostGPT for test roostPostmanTest using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=354b987cbe

config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  phases:
    - duration: 60
      arrivalRate: 20
  payload:
    path: "uploadImage_post_success.csv"
    fields: ["petId", "additionalMetadata", "file"]
    skipHeader: true
    skipEmptyLines: false

scenarios:
  - flow:
    - post:
        url: "/pet/{{ petId }}/uploadImage"
        beforeRequest: "setValue"
        headers:
          Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          Content-Type: "multipart/form-data"
        formData:
          additionalMetadata: "{{ additionalMetadata }}"
          file:
            fileName: "{{ file }}"
            value: "dummy file content"
            mimeType: "image/jpeg"
        capture:
          - json: "$"
            as: "response"
        expect:
          - statusCode: 200
          - hasProperty: "code"
          - hasProperty: "type"
          - hasProperty: "message"
        afterResponse: ""
        log: "Upload image to the pet ID {{ petId }}"
    - think: 1
