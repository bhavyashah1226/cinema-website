# Test generated by RoostGPT for test roostPostmanTest using AI Type Azure Open AI and AI Model roost-gpt4-32k

# RoostTestHash=6e4c4bbafe

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 10
      arrivalRate: 10
  defaults:
    headers:
      authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
  plugins:
    expect: {}
  payload:
    path: "order_orderId_delete_others.csv"
    fields:
      - "orderId"
    skipHeader: true
scenarios:
  - name: "Delete purchase order by ID - various failure cases"
    flow:
      - log: "Attempting to delete order with invalid ID (non-integer)"
        delete:
          url: "/store/order/stringID"
          headers:
            authorization: "InvalidToken"
          expect:
            - statusCode: 400
            - hasProperty: "description"
            - equals: 
                - "description"
                - "Invalid ID supplied"
      - think: 5

      - log: "Attempting to delete order with unavailable ID (integer > 1000)"
        delete:
          url: "/store/order/2000"
          headers:
            authorization: "InvalidToken"
          expect:
            - statusCode: 404
            - hasProperty: "description"
            - equals: 
                - "description"
                - "Order not found"
      - think: 5

      - log: "Attempting to delete order with unavailable ID (integer from payload)"
        delete:
          url: "/store/order/{{ orderId }}"
          expect:
            - statusCode: 404
            - hasProperty: "description"
            - equals: 
                - "description"
                - "Order not found"
      - think: 5

      - log: "Attempting to delete order with invalid URL"
        delete:
          url: "/store/otherpath/{{ orderId }}"
          expect:
            - statusCode: { "not": 200 }
